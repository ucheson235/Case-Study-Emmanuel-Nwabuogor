<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Customer Group Analysis</title>
		<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
		<style>
			/* General Styles */
body {
    font-family: Arial, sans-serif;
    text-align: center;
    margin: 0;
    padding: 20px;
}

.customer-base {
    margin-top: 120px;
}

.toggle-nav {
    display: flex;
    align-items: center;
    justify-content: space-between;
    background-color: #f4d03f;
    padding: 10px 20px;
    box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1);
    position: fixed;
    top: 0;
    width: 100%;
    z-index: 1;
}

.toggle-nav img {
    height: 50px;
    width: auto;
}

.toggle-nav .toggle-menu {
    display: none; /* Hidden by default, shown only on small screens */
    background: none;
    border: none;
    font-size: 24px;
    cursor: pointer;
}

.toggle-nav ul {
    list-style: none;
    display: flex;
    margin: 0;
    padding: 0;
}

.toggle-nav ul li {
    margin: 0 10px;
}

.toggle-nav ul li a {
    text-decoration: none;
    color: black;
    font-size: 16px;
    padding: 5px 10px;
    transition: all 0.3s ease;
}

.toggle-nav ul li a:hover {
    color: #f4d03f;
    background-color: black;
    border-radius: 50px;
}

			#chart-container {
				width: 500px;
				margin: 50px auto;
			}
			canvas {
				background: #f8f9fa;
				border: 1px solid #ddd;
				border-radius: 8px;
			}
			#pivot-table-container {
				margin: 30px auto;
				width: 70%;
			}
			table {
				width: 100%;
				border-collapse: collapse;
				margin: 20px 0;
			}
			th,
			td {
				padding: 10px;
				text-align: center;
				border: 1px solid #ddd;
			}
			th {
				background-color: #f4f4f4;
			}
			#strategies-container {
				margin: 40px auto;
				width: 70%;
			}
			.strategy {
				text-align: left;
				margin-bottom: 20px;
			}
			.strategy h3 {
				margin: 10px 0 5px;
				color: #333;
			}
			.strategy p {
				margin: 0;
				font-size: 14px;
				color: #555;
			}
			
			

			@media (max-width: 1600px) {
				.toggle-nav {
					padding: 10px 15px; /* Adjust padding */
				}

				.toggle-nav ul {
					flex-wrap: wrap; /* Allow items to wrap */
					justify-content: center; /* Center items */
				}

				.toggle-nav ul li {
					margin: 5px 10px; /* Adjust spacing */
				}

				.toggle-nav ul li a {
					font-size: 16px; /* Reduce font size slightly */
				}

				.toggle-nav img {
					height: 50px; /* Reduce logo size */
				}

				.hero {
					margin-top: 120px; /* Add space below the navbar */
					padding: 30px; /* Increase padding */
					font-size: 1.2rem; /* Adjust font size */
				}
			}

			@media (min-width: 768px) and (max-width: 1000px) {
				/* Tablet-specific styles */

				.toggle-nav {
					padding: 10px 15px; /* Adjust padding for better fit */
				}

				.toggle-nav ul {
					flex-wrap: wrap; /* Allow items to wrap if needed */
					justify-content: center; /* Center items horizontally */
				}

				.toggle-nav ul li {
					margin: 5px 10px; /* Adjust spacing between items */
				}

				.toggle-nav ul li a {
					font-size: 16px; /* Adjust font size for better readability */
				}

				.toggle-nav img {
					height: 50px; /* Maintain consistent logo size for tablets */
				}

				/* Hero Section for Tablets */
				.hero {
					margin-top: 150px; /* Increase top margin to accommodate larger navigation */
					padding: 30px; /* Add more padding */
				}

				.hero h1 {
					font-size: 2.5rem; /* Larger font for tablets */
				}

				.hero h2 {
					font-size: 2rem;
				}
			}

			
			@media (max-width: 767px) {
    .toggle-nav .toggle-menu {
        display: block; /* Show the toggle button on small screens */
    }

    .toggle-nav ul {
        flex-direction: column; /* Stack menu items vertically */
        align-items: center;
        background-color: #f4d03f;
        position: absolute;
        top: 60px;
        right: 0;
        width: 100%;
        display: none; /* Initially hidden */
        box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.2);
    }

    .toggle-nav ul.show {
        display: flex; /* Show the menu when toggled */
    }

    .toggle-nav ul li {
        margin: 10px 0; /* Add spacing between items */
    }

    .toggle-nav ul li a {
        font-size: 18px;
    }
}

		</style>
	</head>
	<body>
		<nav class="toggle-nav">
			<a href="./index.html"
				><img
					src="https://sunking.com/wp-content/uploads/2017/12/Sun-King-Logo-1.png"
					alt="Sun King Logo"
			/></a>
			<button class="toggle-menu" aria-label="Toggle Menu">â˜°</button>
			<ul class="nav-menu">
				<li><a href="./index.html">Home</a></li>
				<li><a href="./group_analysis.html">Customer Group Analysis</a></li>
				<li><a href="./satisfaction_trend.html">Satisfaction Ratings</a></li>
				<li>
					<a href="./customer_satisfaction_by_region.html"
						>Satisfaction by Region</a
					>
				</li>
				<li>
					<a href="./pivot_table_subscription_plan.html">Subscription Plan</a>
				</li>
				<li><a href="./late_payments_by_region.html">Late Payments</a></li>
				<li>
					<a href="./feedback_distribution.html">Feedback Distribution</a>
				</li>
				<li><a href="./ratings_distribution.html">Ratings Distribution</a></li>
			</ul>
		</nav>

		<h1 class="customer-base">Customer Groups Based on Satisfaction and Late Payments</h1>
		<div id="chart-container">
			<canvas id="groupChart" width="500" height="400"></canvas>
		</div>
		<div id="pivot-table-container">
			<h2>Pivot Table of Group Data</h2>
			<table id="pivot-table">
				<thead>
					<tr>
						<th>Group</th>
						<th>Number of Customers</th>
					</tr>
				</thead>
				<tbody>
					<!-- Pivot table rows will be inserted dynamically -->
				</tbody>
			</table>
		</div>
		<div id="strategies-container">
			<h2>Group Strategies</h2>
			<div id="strategy-list">
				<!-- Strategies will be inserted dynamically -->
			</div>
		</div>

		<footer
			style="
				background-color: #f4d03f;
				padding: 20px 0;
				text-align: center;
				color: #333;
				font-family: Arial, sans-serif;
				position: relative;
				bottom: 0;
				width: 100%;
				box-shadow: 0px -2px 5px rgba(0, 0, 0, 0.1);
			"
		>
			<a href="./index.html">
				<img
					src="https://sunking.com/wp-content/uploads/2017/12/Sun-King-Logo-1.png"
					alt="Sun King Logo"
					style="height: 50px; width: auto"
				/>
			</a>
			<p style="margin-top: 10px; font-size: 14px">
				&copy; 2024 Sun King. All rights reserved. |
				<a
					href="./privacy-policy.html"
					style="color: #333; text-decoration: underline"
					>Privacy Policy</a
				>
			</p>
		</footer>
		<script>

           const toggleButton = document.querySelector('.toggle-nav .toggle-menu');
			const navMenu = document.querySelector('.toggle-nav ul');

			toggleButton.addEventListener('click', () => {
				navMenu.classList.toggle('show'); // Toggle the 'show' class
				console.log(navMenu)
			});
			// Updated data and strategies
			const groupData = {
				"Satisfied and On-Time": {
					number: 57,
					strategy:
						"Retain these customers with loyalty programs, exclusive offers, and continued excellent service.",
				},
				"Dissatisfied and On-Time": {
					number: 89,
					strategy:
						"Conduct surveys to identify reasons for dissatisfaction and address them proactively.",
				},
				"At Risk": {
					number: 141,
					strategy:
						"Offer personalized support and flexible payment options to improve retention.",
				},
				"Critical Risk": {
					number: 62,
					strategy:
						"Implement immediate intervention strategies, such as personal outreach and resolving service issues.",
				},
				Other: {
					number: 151,
					strategy:
						"Analyze these records further to understand their categorization.",
				},
			};

			// Generate the Bar Chart
			const ctx = document.getElementById("groupChart").getContext("2d");
			const chart = new Chart(ctx, {
				type: "bar",
				data: {
					labels: Object.keys(groupData),
					datasets: [
						{
							label: "Number of Customers",
							data: Object.values(groupData).map((group) => group.number),
							backgroundColor: "rgba(255, 205, 86, 0.8)", // Yellow color
							borderColor: "rgba(255, 159, 64, 1)", // Orange border
							borderWidth: 1,
						},
					],
				},
				options: {
					scales: {
						y: {
							beginAtZero: true,
						},
					},
					plugins: {
						legend: {
							display: true,
							position: "top",
						},
					},
					responsive: true,
					maintainAspectRatio: false,
				},
			});

			// Populate the Pivot Table
			const pivotTableBody = document
				.getElementById("pivot-table")
				.querySelector("tbody");
			Object.entries(groupData).forEach(([group, data]) => {
				const row = document.createElement("tr");
				row.innerHTML = `
        <td>${group}</td>
        <td>${data.number}</td>
      `;
				pivotTableBody.appendChild(row);
			});

			// Populate the Strategies Section
			const strategyContainer = document.getElementById("strategy-list");
			Object.entries(groupData).forEach(([group, data]) => {
				const strategyDiv = document.createElement("div");
				strategyDiv.classList.add("strategy");
				strategyDiv.innerHTML = `
        <h3>${group}</h3>
        <p><strong>Number:</strong> ${data.number}</p>
        <p><strong>Strategy:</strong> ${data.strategy}</p>
      `;
				strategyContainer.appendChild(strategyDiv);
			});


			
		</script>
	</body>
</html>
